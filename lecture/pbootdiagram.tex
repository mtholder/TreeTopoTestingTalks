\documentclass[landscape]{foils} 
\input{../common-preamble-start}
\input{../preamble.tex}
\usepackage{tikz}
\usetikzlibrary{arrows}
\input{../common-preamble-end}
\usetikzlibrary{trees,arrows,positioning}

\tikzset{stream/.style={rectangle,rounded corners,draw= red!50,fill=red!20,thick,minimum width=6cm,minimum height=3cm}}
\tikzset{stat/.style={rectangle,rounded corners,draw= blue!50,fill=blue!20,thick,minimum width=6cm,minimum height=3cm}}
\tikzset{fn/.style={rectangle,rounded corners,draw= red!50!green!50,fill=red!50!green!50,thick,minimum width=6cm,minimum height=3cm}}
\tikzset{shared/.style={rectangle,rounded corners,draw= green!50,fill=green!20,thick,minimum width=6cm,minimum height=3cm}}
\tikzset{hidden/.style={rectangle,draw=white,fill=white,thick}}
\tikzset{myproc/.style={rectangle,rounded corners,draw=black!50,fill=white,thick,minimum width=6cm,minimum height=10cm}}
\tikzset{fileI/.style={circle,draw=black!50,fill=black!50,thick,minimum width=.5cm,minimum height=.5cm}}
\tikzset{toArrow/.style={stealth-,ultra thick}}


\begin{document}
\pagecolor{white}

\myNewSlide
\begin{tikzpicture}
\begin{scope}[node distance=10mm]
    \node (rd) [stream] {real data} ;
    \node (statcmds) [shared, right =of rd] {test stat commands} ;
    \node (nullcmds) [shared, below =of rd] {null fitting commands} ;
    \node (realstat) [stat, right =of statcmds] {real test stat} ;
    \node (bestnull) [fn, below =of nullcmds] {fit null} ;
    \draw (statcmds) to [->, arrows={-triangle 45}, out=0, in=180]  (realstat) ;
    \draw [->, arrows={-triangle 45}] (rd) to (statcmds) ;
    \draw [->, arrows={-triangle 45}] (rd) to (nullcmds) ;
    \draw [->, arrows={-triangle 45}] (nullcmds) to (bestnull) ;
\end{scope}
\end{tikzpicture} 

\myNewSlide
\begin{tikzpicture}
\begin{scope}[node distance=10mm]
    \node (rd) [stream] {real data} ;
    \node (statcmds) [shared, right =of rd] {test stat commands} ;
    \node (nullcmds) [shared, below =of rd] {null fitting commands} ;
    \node (realstat) [stat, right =of statcmds] {real test stat} ;
    \node (bestnull) [stream, below =of nullcmds] {fit null} ;
    \node (simdata) [stream, below =of bestnull] {simulated data} ;
    \draw (statcmds) to [->, arrows={-triangle 45}, out=0, in=180]  (realstat) ;
    \draw [->, arrows={-triangle 45}] (rd) to (statcmds) ;
    \draw [->, arrows={-triangle 45}] (rd) to (nullcmds) ;
    \draw [->, arrows={-triangle 45}] (nullcmds) to (bestnull) ;
    \draw [->, arrows={-triangle 45}] (bestnull) to (simdata) ;
\end{scope}
\end{tikzpicture} 



\myNewSlide
\begin{tikzpicture}
\begin{scope}[node distance=10mm]
    \node (rd) [stream] {real data} ;
    \node (statcmds) [shared, right =of rd] {test stat commands} ;
    \node (nullcmds) [shared, below =of rd] {null fitting commands} ;
    \node (realstat) [stat, right =of statcmds] {real test stat} ;
    \node (bestnull) [stream, below =of nullcmds] {fit null} ;
    \node (simdata) [stream, below =of bestnull] {simulated data} ;
    \node (nulldist) [stat, right =of simdata] {null distrib.} ;
    \draw (statcmds) to [->, arrows={-triangle 45}, out=0, in=180]  (realstat) ;
    \draw [->, arrows={-triangle 45}] (rd) to (statcmds) ;
    \draw [->, arrows={-triangle 45}] (rd) to (nullcmds) ;
    \draw [->, arrows={-triangle 45}] (nullcmds) to (bestnull) ;
    \draw [->, arrows={-triangle 45}] (bestnull) to (simdata) ;
    \draw [->, arrows={-triangle 45}, out=0,in=200] (simdata) to (statcmds) ;
    \draw [->, arrows={-triangle 45}] (statcmds) to (nulldist) ;
\end{scope}
\end{tikzpicture} 



\myNewSlide
\begin{tikzpicture}
\begin{scope}[node distance=10mm]
    \node (rd) [stream] {real data} ;
    \node (statcmds) [shared, right =of rd] {test stat commands} ;
    \node (nullcmds) [shared, below =of rd] {null fitting commands} ;
    \node (realstat) [stat, right =of statcmds] {real test stat} ;
    \node (bestnull) [stream, below =of nullcmds] {fit null} ;
    \node (simdata) [stream, below =of bestnull] {simulated data} ;
    \node (nulldist) [stat, right =of simdata] {null distrib.} ;
    \node (pvalue) [stat, right =of nulldist] {$P$-value} ;
    \draw (statcmds) to [->, arrows={-triangle 45}, out=0, in=180]  (realstat) ;
    \draw [->, arrows={-triangle 45}] (rd) to (statcmds) ;
    \draw [->, arrows={-triangle 45}] (rd) to (nullcmds) ;
    \draw [->, arrows={-triangle 45}] (nullcmds) to (bestnull) ;
    \draw [->, arrows={-triangle 45}] (bestnull) to (simdata) ;
    \draw [->, arrows={-triangle 45}, out=0,in=200] (simdata) to (statcmds) ;
    \draw [->, arrows={-triangle 45}] (statcmds) to (nulldist) ;
    \draw [->, arrows={-triangle 45}] (nulldist) to (pvalue) ;
    \draw [->, arrows={-triangle 45}] (realstat) to (pvalue) ;
\end{scope}
\end{tikzpicture} 





\end{document}
